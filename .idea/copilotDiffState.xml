<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/src/app/calendar/page.js">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/app/calendar/page.js" />
              <option name="originalContent" value="&quot;use client&quot;;&#10;&#10;import { useState, useEffect, useCallback, useRef } from &quot;react&quot;;&#10;import FullCalendar from &quot;@fullcalendar/react&quot;;&#10;import dayGridPlugin from &quot;@fullcalendar/daygrid&quot;;&#10;import timeGridPlugin from &quot;@fullcalendar/timegrid&quot;;&#10;import interactionPlugin from &quot;@fullcalendar/interaction&quot;;&#10;import { format, differenceInDays, addDays } from &quot;date-fns&quot;;&#10;import WorkloadBalanceWidget from &quot;@/components/WorkloadBalanceWidget&quot;;&#10;import VantaWavesBackground from &quot;@/components/VantaWavesBackground&quot;;&#10;import &quot;./calendar.css&quot;;&#10;&#10;// Sample initial events - in a real app, these would come from a database&#10;const initialEvents = [&#10;  {&#10;    id: &quot;1&quot;,&#10;    title: &quot;Math Test&quot;,&#10;    start: addDays(new Date(), 3).toISOString().split(&quot;T&quot;)[0],&#10;    type: &quot;test&quot;,&#10;    reminderDays: 2,&#10;    className: &quot;event-test&quot;,&#10;  },&#10;  {&#10;    id: &quot;2&quot;,&#10;    title: &quot;Physics Assignment&quot;,&#10;    start: addDays(new Date(), 1).toISOString().split(&quot;T&quot;)[0],&#10;    type: &quot;assignment&quot;,&#10;    className: &quot;event-assignment&quot;,&#10;  },&#10;  {&#10;    id: &quot;3&quot;,&#10;    title: &quot;History Essay Due&quot;,&#10;    start: addDays(new Date(), 5).toISOString().split(&quot;T&quot;)[0],&#10;    type: &quot;assignment&quot;,&#10;    className: &quot;event-assignment&quot;,&#10;  },&#10;  {&#10;    id: &quot;4&quot;,&#10;    title: &quot;Chemistry Quiz&quot;,&#10;    start: addDays(new Date(), 7).toISOString().split(&quot;T&quot;)[0],&#10;    type: &quot;test&quot;,&#10;    reminderDays: 3,&#10;    className: &quot;event-test&quot;,&#10;  },&#10;];&#10;&#10;export default function CalendarPage() {&#10;  const [events, setEvents] = useState(initialEvents);&#10;  const [reminders, setReminders] = useState([]);&#10;  const [showModal, setShowModal] = useState(false);&#10;  const [showEventModal, setShowEventModal] = useState(false);&#10;  const [selectedDate, setSelectedDate] = useState(null);&#10;  const [selectedEvent, setSelectedEvent] = useState(null);&#10;  const [currentView, setCurrentView] = useState(&quot;dayGridMonth&quot;);&#10;  const calendarRef = useRef(null);&#10;&#10;  const [newEvent, setNewEvent] = useState({&#10;    title: &quot;&quot;,&#10;    type: &quot;assignment&quot;,&#10;    reminderDays: 1,&#10;  });&#10;&#10;  // Generate reminders based on upcoming events&#10;  const generateReminders = useCallback(() =&gt; {&#10;    const today = new Date();&#10;    today.setHours(0, 0, 0, 0);&#10;    const newReminders = [];&#10;&#10;    events.forEach((event) =&gt; {&#10;      const eventDate = new Date(event.start);&#10;      eventDate.setHours(0, 0, 0, 0);&#10;      const daysUntil = differenceInDays(eventDate, today);&#10;&#10;      // Test reminder (configurable days before)&#10;      if (event.type === &quot;test&quot;) {&#10;        if (daysUntil &gt; 0 &amp;&amp; daysUntil &lt;= (event.reminderDays || 2)) {&#10;          newReminders.push({&#10;            id: `reminder-${event.id}`,&#10;            title: ` Study reminder: ${event.title}`,&#10;            message: `${daysUntil} day${daysUntil &gt; 1 ? &quot;s&quot; : &quot;&quot;} until your test!`,&#10;            type: &quot;reminder&quot;,&#10;            urgent: daysUntil &lt;= 1,&#10;          });&#10;        }&#10;&#10;        // Last-minute cram reminder (day before or same day)&#10;        if (daysUntil === 1) {&#10;          newReminders.push({&#10;            id: `cram-${event.id}`,&#10;            title: ` Last-minute cram: ${event.title}`,&#10;            message: &quot;Tomorrow is your test! Time for final review!&quot;,&#10;            type: &quot;cram&quot;,&#10;            urgent: true,&#10;          });&#10;        } else if (daysUntil === 0) {&#10;          newReminders.push({&#10;            id: `today-${event.id}`,&#10;            title: ` Today: ${event.title}`,&#10;            message: &quot;Your test is TODAY! Good luck!&quot;,&#10;            type: &quot;today&quot;,&#10;            urgent: true,&#10;          });&#10;        }&#10;      }&#10;&#10;      // Assignment due soon reminder&#10;      if (event.type === &quot;assignment&quot; &amp;&amp; daysUntil &gt;= 0 &amp;&amp; daysUntil &lt;= 2) {&#10;        newReminders.push({&#10;          id: `due-${event.id}`,&#10;          title: ` Due soon: ${event.title}`,&#10;          message:&#10;            daysUntil === 0&#10;              ? &quot;Due today!&quot;&#10;              : `Due in ${daysUntil} day${daysUntil &gt; 1 ? &quot;s&quot; : &quot;&quot;}`,&#10;          type: daysUntil === 0 ? &quot;today&quot; : &quot;reminder&quot;,&#10;          urgent: daysUntil &lt;= 1,&#10;        });&#10;      }&#10;    });&#10;&#10;    setReminders(newReminders);&#10;  }, [events]);&#10;&#10;  useEffect(() =&gt; {&#10;    generateReminders();&#10;  }, [generateReminders]);&#10;&#10;  const handleDateClick = (arg) =&gt; {&#10;    setSelectedDate(arg.dateStr);&#10;    setShowModal(true);&#10;  };&#10;&#10;  const handleEventClick = (clickInfo) =&gt; {&#10;    setSelectedEvent(clickInfo.event);&#10;    setShowEventModal(true);&#10;  };&#10;&#10;  const handleAddEvent = (e) =&gt; {&#10;    e.preventDefault();&#10;    if (!newEvent.title.trim()) return;&#10;&#10;    const event = {&#10;      id: Date.now().toString(),&#10;      title: newEvent.title,&#10;      start: selectedDate,&#10;      type: newEvent.type,&#10;      reminderDays: newEvent.reminderDays,&#10;      className: `event-${newEvent.type}`,&#10;    };&#10;&#10;    setEvents([...events, event]);&#10;    setNewEvent({ title: &quot;&quot;, type: &quot;assignment&quot;, reminderDays: 1 });&#10;    setShowModal(false);&#10;  };&#10;&#10;  const handleDeleteEvent = () =&gt; {&#10;    if (selectedEvent) {&#10;      setEvents(events.filter((e) =&gt; e.id !== selectedEvent.id));&#10;      setShowEventModal(false);&#10;      setSelectedEvent(null);&#10;    }&#10;  };&#10;&#10;  const dismissReminder = (reminderId) =&gt; {&#10;    setReminders(reminders.filter((r) =&gt; r.id !== reminderId));&#10;  };&#10;&#10;  const changeView = (view) =&gt; {&#10;    const calendarApi = calendarRef.current?.getApi();&#10;    if (calendarApi) {&#10;      calendarApi.changeView(view);&#10;      setCurrentView(view);&#10;    }&#10;  };&#10;&#10;  return (&#10;    &lt;VantaWavesBackground className=&quot;min-h-screen&quot;&gt;&#10;      &lt;div className=&quot;calendar-container&quot;&gt;&#10;        {/* Header */}&#10;        &lt;header className=&quot;calendar-header&quot;&gt;&#10;          &lt;h1&gt; StudyTide Calendar&lt;/h1&gt;&#10;          &lt;div className=&quot;view-toggle&quot;&gt;&#10;            &lt;button&#10;              className={currentView === &quot;dayGridMonth&quot; ? &quot;active&quot; : &quot;&quot;}&#10;              onClick={() =&gt; changeView(&quot;dayGridMonth&quot;)}&#10;            &gt;&#10;               Month&#10;            &lt;/button&gt;&#10;            &lt;button&#10;              className={currentView === &quot;timeGridWeek&quot; ? &quot;active&quot; : &quot;&quot;}&#10;              onClick={() =&gt; changeView(&quot;timeGridWeek&quot;)}&#10;            &gt;&#10;               Week&#10;            &lt;/button&gt;&#10;          &lt;/div&gt;&#10;        &lt;/header&gt;&#10;&#10;        &lt;div className=&quot;calendar-layout&quot;&gt;&#10;          {/* Reminders Sidebar */}&#10;          &lt;aside className=&quot;reminders-sidebar&quot;&gt;&#10;            &lt;h2&gt; Reminders&lt;/h2&gt;&#10;            {reminders.length === 0 ? (&#10;              &lt;p className=&quot;no-reminders&quot;&gt;All caught up! No upcoming reminders.&lt;/p&gt;&#10;            ) : (&#10;              &lt;div className=&quot;reminders-list&quot;&gt;&#10;                {reminders.map((reminder) =&gt; (&#10;                  &lt;div&#10;                    key={reminder.id}&#10;                    className={`reminder-card ${reminder.urgent ? &quot;urgent&quot; : &quot;&quot;} ${reminder.type}`}&#10;                  &gt;&#10;                    &lt;div className=&quot;reminder-content&quot;&gt;&#10;                      &lt;h3&gt;{reminder.title}&lt;/h3&gt;&#10;                      &lt;p&gt;{reminder.message}&lt;/p&gt;&#10;                    &lt;/div&gt;&#10;                    &lt;button&#10;                      className=&quot;dismiss-btn&quot;&#10;                      onClick={() =&gt; dismissReminder(reminder.id)}&#10;                      title=&quot;Dismiss&quot;&#10;                    &gt;&#10;                      ×&#10;                    &lt;/button&gt;&#10;                  &lt;/div&gt;&#10;                ))}&#10;              &lt;/div&gt;&#10;            )}&#10;&#10;            &lt;div className=&quot;calendar-legend&quot;&gt;&#10;              &lt;h3&gt;Event Types&lt;/h3&gt;&#10;              &lt;div className=&quot;legend-item&quot;&gt;&#10;                &lt;div className=&quot;legend-color test&quot;&gt;&lt;/div&gt;&#10;                &lt;span&gt;Tests &amp; Exams&lt;/span&gt;&#10;              &lt;/div&gt;&#10;              &lt;div className=&quot;legend-item&quot;&gt;&#10;                &lt;div className=&quot;legend-color assignment&quot;&gt;&lt;/div&gt;&#10;                &lt;span&gt;Assignments&lt;/span&gt;&#10;              &lt;/div&gt;&#10;            &lt;/div&gt;&#10;&#10;            {/* Workload Balance Widget */}&#10;            &lt;div className=&quot;mt-6&quot;&gt;&#10;              &lt;WorkloadBalanceWidget /&gt;&#10;            &lt;/div&gt;&#10;          &lt;/aside&gt;&#10;&#10;          {/* Main Calendar */}&#10;          &lt;main className=&quot;calendar-main&quot;&gt;&#10;            &lt;FullCalendar&#10;              ref={calendarRef}&#10;              plugins={[dayGridPlugin, timeGridPlugin, interactionPlugin]}&#10;              initialView=&quot;dayGridMonth&quot;&#10;              headerToolbar={{&#10;                left: &quot;prev,next today&quot;,&#10;                center: &quot;title&quot;,&#10;                right: &quot;&quot;,&#10;              }}&#10;              events={events}&#10;              dateClick={handleDateClick}&#10;              eventClick={handleEventClick}&#10;              editable={true}&#10;              selectable={true}&#10;              height=&quot;auto&quot;&#10;            /&gt;&#10;          &lt;/main&gt;&#10;        &lt;/div&gt;&#10;      &lt;/div&gt;&#10;&#10;      {/* Add Event Modal */}&#10;      {showModal &amp;&amp; (&#10;        &lt;div className=&quot;modal-overlay&quot; onClick={() =&gt; setShowModal(false)}&gt;&#10;          &lt;div className=&quot;modal-content&quot; onClick={(e) =&gt; e.stopPropagation()}&gt;&#10;            &lt;h2&gt;Add Event - {selectedDate}&lt;/h2&gt;&#10;            &lt;form onSubmit={handleAddEvent}&gt;&#10;              &lt;div className=&quot;form-group&quot;&gt;&#10;                &lt;label&gt;Event Title&lt;/label&gt;&#10;                &lt;input&#10;                  type=&quot;text&quot;&#10;                  value={newEvent.title}&#10;                  onChange={(e) =&gt;&#10;                    setNewEvent({ ...newEvent, title: e.target.value })&#10;                  }&#10;                  placeholder=&quot;Enter event title&quot;&#10;                  required&#10;                /&gt;&#10;              &lt;/div&gt;&#10;&#10;              &lt;div className=&quot;form-group&quot;&gt;&#10;                &lt;label&gt;Event Type&lt;/label&gt;&#10;                &lt;select&#10;                  value={newEvent.type}&#10;                  onChange={(e) =&gt;&#10;                    setNewEvent({ ...newEvent, type: e.target.value })&#10;                  }&#10;                &gt;&#10;                  &lt;option value=&quot;assignment&quot;&gt;Assignment&lt;/option&gt;&#10;                  &lt;option value=&quot;test&quot;&gt;Test/Exam&lt;/option&gt;&#10;                &lt;/select&gt;&#10;              &lt;/div&gt;&#10;&#10;              {newEvent.type === &quot;test&quot; &amp;&amp; (&#10;                &lt;div className=&quot;form-group&quot;&gt;&#10;                  &lt;label&gt;Reminder Days Before&lt;/label&gt;&#10;                  &lt;input&#10;                    type=&quot;number&quot;&#10;                    min=&quot;1&quot;&#10;                    max=&quot;14&quot;&#10;                    value={newEvent.reminderDays}&#10;                    onChange={(e) =&gt;&#10;                      setNewEvent({&#10;                        ...newEvent,&#10;                        reminderDays: parseInt(e.target.value),&#10;                      })&#10;                    }&#10;                  /&gt;&#10;                &lt;/div&gt;&#10;              )}&#10;&#10;              &lt;div className=&quot;modal-actions&quot;&gt;&#10;                &lt;button type=&quot;submit&quot; className=&quot;btn-primary&quot;&gt;&#10;                  ✓ Add Event&#10;                &lt;/button&gt;&#10;                &lt;button&#10;                  type=&quot;button&quot;&#10;                  className=&quot;btn-cancel&quot;&#10;                  onClick={() =&gt; setShowModal(false)}&#10;                &gt;&#10;                  ✕ Cancel&#10;                &lt;/button&gt;&#10;              &lt;/div&gt;&#10;            &lt;/form&gt;&#10;          &lt;/div&gt;&#10;        &lt;/div&gt;&#10;      )}&#10;&#10;      {/* Event Details Modal */}&#10;      {showEventModal &amp;&amp; selectedEvent &amp;&amp; (&#10;        &lt;div className=&quot;modal-overlay&quot; onClick={() =&gt; setShowEventModal(false)}&gt;&#10;          &lt;div className=&quot;modal-content&quot; onClick={(e) =&gt; e.stopPropagation()}&gt;&#10;            &lt;h2&gt;{selectedEvent.title}&lt;/h2&gt;&#10;            &lt;div className=&quot;event-details&quot;&gt;&#10;              &lt;p&gt;&#10;                &lt;strong&gt;Date:&lt;/strong&gt; {selectedEvent.startStr}&#10;              &lt;/p&gt;&#10;              &lt;p&gt;&#10;                &lt;strong&gt;Type:&lt;/strong&gt;{&quot; &quot;}&#10;                {selectedEvent.extendedProps.type || &quot;assignment&quot;}&#10;              &lt;/p&gt;&#10;            &lt;/div&gt;&#10;            &lt;div className=&quot;modal-actions&quot;&gt;&#10;              &lt;button className=&quot;btn-danger&quot; onClick={handleDeleteEvent}&gt;&#10;                ️ Delete&#10;              &lt;/button&gt;&#10;              &lt;button&#10;                type=&quot;button&quot;&#10;                className=&quot;btn-cancel&quot;&#10;                onClick={() =&gt; setShowEventModal(false)}&#10;              &gt;&#10;                ✕ Close&#10;              &lt;/button&gt;&#10;            &lt;/div&gt;&#10;          &lt;/div&gt;&#10;        &lt;/div&gt;&#10;      )}&#10;      &lt;/div&gt;&#10;    &lt;/VantaWavesBackground&gt;&#10;  );&#10;}&#10;&#10;" />
              <option name="updatedContent" value="&quot;use client&quot;;&#10;&#10;import { useState, useEffect, useCallback, useRef } from &quot;react&quot;;&#10;import FullCalendar from &quot;@fullcalendar/react&quot;;&#10;import dayGridPlugin from &quot;@fullcalendar/daygrid&quot;;&#10;import timeGridPlugin from &quot;@fullcalendar/timegrid&quot;;&#10;import interactionPlugin from &quot;@fullcalendar/interaction&quot;;&#10;import { format, differenceInDays, addDays } from &quot;date-fns&quot;;&#10;import WorkloadBalanceWidget from &quot;@/components/WorkloadBalanceWidget&quot;;&#10;import VantaWavesBackground from &quot;@/components/VantaWavesBackground&quot;;&#10;import &quot;./calendar.css&quot;;&#10;&#10;// Sample initial events - in a real app, these would come from a database&#10;const initialEvents = [&#10;  {&#10;    id: &quot;1&quot;,&#10;    title: &quot;Math Test&quot;,&#10;    start: addDays(new Date(), 3).toISOString().split(&quot;T&quot;)[0],&#10;    type: &quot;test&quot;,&#10;    reminderDays: 2,&#10;    className: &quot;event-test&quot;,&#10;  },&#10;  {&#10;    id: &quot;2&quot;,&#10;    title: &quot;Physics Assignment&quot;,&#10;    start: addDays(new Date(), 1).toISOString().split(&quot;T&quot;)[0],&#10;    type: &quot;assignment&quot;,&#10;    className: &quot;event-assignment&quot;,&#10;  },&#10;  {&#10;    id: &quot;3&quot;,&#10;    title: &quot;History Essay Due&quot;,&#10;    start: addDays(new Date(), 5).toISOString().split(&quot;T&quot;)[0],&#10;    type: &quot;assignment&quot;,&#10;    className: &quot;event-assignment&quot;,&#10;  },&#10;  {&#10;    id: &quot;4&quot;,&#10;    title: &quot;Chemistry Quiz&quot;,&#10;    start: addDays(new Date(), 7).toISOString().split(&quot;T&quot;)[0],&#10;    type: &quot;test&quot;,&#10;    reminderDays: 3,&#10;    className: &quot;event-test&quot;,&#10;  },&#10;];&#10;&#10;export default function CalendarPage() {&#10;  const [events, setEvents] = useState(initialEvents);&#10;  const [reminders, setReminders] = useState([]);&#10;  const [showModal, setShowModal] = useState(false);&#10;  const [showEventModal, setShowEventModal] = useState(false);&#10;  const [selectedDate, setSelectedDate] = useState(null);&#10;  const [selectedEvent, setSelectedEvent] = useState(null);&#10;  const [currentView, setCurrentView] = useState(&quot;dayGridMonth&quot;);&#10;  const calendarRef = useRef(null);&#10;&#10;  const [newEvent, setNewEvent] = useState({&#10;    title: &quot;&quot;,&#10;    type: &quot;assignment&quot;,&#10;    reminderDays: 1,&#10;  });&#10;&#10;  // Generate reminders based on upcoming events&#10;  const generateReminders = useCallback(() =&gt; {&#10;    const today = new Date();&#10;    today.setHours(0, 0, 0, 0);&#10;    const newReminders = [];&#10;&#10;    events.forEach((event) =&gt; {&#10;      const eventDate = new Date(event.start);&#10;      eventDate.setHours(0, 0, 0, 0);&#10;      const daysUntil = differenceInDays(eventDate, today);&#10;&#10;      // Test reminder (configurable days before)&#10;      if (event.type === &quot;test&quot;) {&#10;        if (daysUntil &gt; 0 &amp;&amp; daysUntil &lt;= (event.reminderDays || 2)) {&#10;          newReminders.push({&#10;            id: `reminder-${event.id}`,&#10;            title: ` Study reminder: ${event.title}`,&#10;            message: `${daysUntil} day${daysUntil &gt; 1 ? &quot;s&quot; : &quot;&quot;} until your test!`,&#10;            type: &quot;reminder&quot;,&#10;            urgent: daysUntil &lt;= 1,&#10;          });&#10;        }&#10;&#10;        // Last-minute cram reminder (day before or same day)&#10;        if (daysUntil === 1) {&#10;          newReminders.push({&#10;            id: `cram-${event.id}`,&#10;            title: ` Last-minute cram: ${event.title}`,&#10;            message: &quot;Tomorrow is your test! Time for final review!&quot;,&#10;            type: &quot;cram&quot;,&#10;            urgent: true,&#10;          });&#10;        } else if (daysUntil === 0) {&#10;          newReminders.push({&#10;            id: `today-${event.id}`,&#10;            title: ` Today: ${event.title}`,&#10;            message: &quot;Your test is TODAY! Good luck!&quot;,&#10;            type: &quot;today&quot;,&#10;            urgent: true,&#10;          });&#10;        }&#10;      }&#10;&#10;      // Assignment due soon reminder&#10;      if (event.type === &quot;assignment&quot; &amp;&amp; daysUntil &gt;= 0 &amp;&amp; daysUntil &lt;= 2) {&#10;        newReminders.push({&#10;          id: `due-${event.id}`,&#10;          title: ` Due soon: ${event.title}`,&#10;          message:&#10;            daysUntil === 0&#10;              ? &quot;Due today!&quot;&#10;              : `Due in ${daysUntil} day${daysUntil &gt; 1 ? &quot;s&quot; : &quot;&quot;}`,&#10;          type: daysUntil === 0 ? &quot;today&quot; : &quot;reminder&quot;,&#10;          urgent: daysUntil &lt;= 1,&#10;        });&#10;      }&#10;    });&#10;&#10;    setReminders(newReminders);&#10;  }, [events]);&#10;&#10;  useEffect(() =&gt; {&#10;    generateReminders();&#10;  }, [generateReminders]);&#10;&#10;  const handleDateClick = (arg) =&gt; {&#10;    setSelectedDate(arg.dateStr);&#10;    setShowModal(true);&#10;  };&#10;&#10;  const handleEventClick = (clickInfo) =&gt; {&#10;    setSelectedEvent(clickInfo.event);&#10;    setShowEventModal(true);&#10;  };&#10;&#10;  const handleAddEvent = (e) =&gt; {&#10;    e.preventDefault();&#10;    if (!newEvent.title.trim()) return;&#10;&#10;    const event = {&#10;      id: Date.now().toString(),&#10;      title: newEvent.title,&#10;      start: selectedDate,&#10;      type: newEvent.type,&#10;      reminderDays: newEvent.reminderDays,&#10;      className: `event-${newEvent.type}`,&#10;    };&#10;&#10;    setEvents([...events, event]);&#10;    setNewEvent({ title: &quot;&quot;, type: &quot;assignment&quot;, reminderDays: 1 });&#10;    setShowModal(false);&#10;  };&#10;&#10;  const handleDeleteEvent = () =&gt; {&#10;    if (selectedEvent) {&#10;      setEvents(events.filter((e) =&gt; e.id !== selectedEvent.id));&#10;      setShowEventModal(false);&#10;      setSelectedEvent(null);&#10;    }&#10;  };&#10;&#10;  const dismissReminder = (reminderId) =&gt; {&#10;    setReminders(reminders.filter((r) =&gt; r.id !== reminderId));&#10;  };&#10;&#10;  const changeView = (view) =&gt; {&#10;    const calendarApi = calendarRef.current?.getApi();&#10;    if (calendarApi) {&#10;      calendarApi.changeView(view);&#10;      setCurrentView(view);&#10;    }&#10;  };&#10;&#10;  return (&#10;    &lt;VantaWavesBackground className=&quot;min-h-screen&quot;&gt;&#10;      &lt;div className=&quot;calendar-container&quot;&gt;&#10;        {/* Header */}&#10;        &lt;header className=&quot;calendar-header&quot;&gt;&#10;          &lt;h1&gt; StudyTide Calendar&lt;/h1&gt;&#10;          &lt;div className=&quot;view-toggle&quot;&gt;&#10;            &lt;button&#10;              className={currentView === &quot;dayGridMonth&quot; ? &quot;active&quot; : &quot;&quot;}&#10;              onClick={() =&gt; changeView(&quot;dayGridMonth&quot;)}&#10;            &gt;&#10;               Month&#10;            &lt;/button&gt;&#10;            &lt;button&#10;              className={currentView === &quot;timeGridWeek&quot; ? &quot;active&quot; : &quot;&quot;}&#10;              onClick={() =&gt; changeView(&quot;timeGridWeek&quot;)}&#10;            &gt;&#10;               Week&#10;            &lt;/button&gt;&#10;          &lt;/div&gt;&#10;        &lt;/header&gt;&#10;&#10;        &lt;div className=&quot;calendar-layout&quot;&gt;&#10;          {/* Reminders Sidebar */}&#10;          &lt;aside className=&quot;reminders-sidebar&quot;&gt;&#10;            &lt;h2&gt; Reminders&lt;/h2&gt;&#10;            {reminders.length === 0 ? (&#10;              &lt;p className=&quot;no-reminders&quot;&gt;All caught up! No upcoming reminders.&lt;/p&gt;&#10;            ) : (&#10;              &lt;div className=&quot;reminders-list&quot;&gt;&#10;                {reminders.map((reminder) =&gt; (&#10;                  &lt;div&#10;                    key={reminder.id}&#10;                    className={`reminder-card ${reminder.urgent ? &quot;urgent&quot; : &quot;&quot;} ${reminder.type}`}&#10;                  &gt;&#10;                    &lt;div className=&quot;reminder-content&quot;&gt;&#10;                      &lt;h3&gt;{reminder.title}&lt;/h3&gt;&#10;                      &lt;p&gt;{reminder.message}&lt;/p&gt;&#10;                    &lt;/div&gt;&#10;                    &lt;button&#10;                      className=&quot;dismiss-btn&quot;&#10;                      onClick={() =&gt; dismissReminder(reminder.id)}&#10;                      title=&quot;Dismiss&quot;&#10;                    &gt;&#10;                      ×&#10;                    &lt;/button&gt;&#10;                  &lt;/div&gt;&#10;                ))}&#10;              &lt;/div&gt;&#10;            )}&#10;&#10;            &lt;div className=&quot;calendar-legend&quot;&gt;&#10;              &lt;h3&gt;Event Types&lt;/h3&gt;&#10;              &lt;div className=&quot;legend-item&quot;&gt;&#10;                &lt;div className=&quot;legend-color test&quot;&gt;&lt;/div&gt;&#10;                &lt;span&gt;Tests &amp; Exams&lt;/span&gt;&#10;              &lt;/div&gt;&#10;              &lt;div className=&quot;legend-item&quot;&gt;&#10;                &lt;div className=&quot;legend-color assignment&quot;&gt;&lt;/div&gt;&#10;                &lt;span&gt;Assignments&lt;/span&gt;&#10;              &lt;/div&gt;&#10;            &lt;/div&gt;&#10;&#10;            {/* Workload Balance Widget */}&#10;            &lt;div className=&quot;mt-6&quot;&gt;&#10;              &lt;WorkloadBalanceWidget /&gt;&#10;            &lt;/div&gt;&#10;          &lt;/aside&gt;&#10;&#10;          {/* Main Calendar */}&#10;          &lt;main className=&quot;calendar-main&quot;&gt;&#10;            &lt;FullCalendar&#10;              ref={calendarRef}&#10;              plugins={[dayGridPlugin, timeGridPlugin, interactionPlugin]}&#10;              initialView=&quot;dayGridMonth&quot;&#10;              headerToolbar={{&#10;                left: &quot;prev,next today&quot;,&#10;                center: &quot;title&quot;,&#10;                right: &quot;&quot;,&#10;              }}&#10;              events={events}&#10;              dateClick={handleDateClick}&#10;              eventClick={handleEventClick}&#10;              editable={true}&#10;              selectable={true}&#10;              height=&quot;auto&quot;&#10;            /&gt;&#10;          &lt;/main&gt;&#10;        &lt;/div&gt;&#10;      &lt;/div&gt;&#10;&#10;      {/* Add Event Modal */}&#10;      {showModal &amp;&amp; (&#10;        &lt;div className=&quot;modal-overlay&quot; onClick={() =&gt; setShowModal(false)}&gt;&#10;          &lt;div className=&quot;modal-content&quot; onClick={(e) =&gt; e.stopPropagation()}&gt;&#10;            &lt;h2&gt;Add Event - {selectedDate}&lt;/h2&gt;&#10;            &lt;form onSubmit={handleAddEvent}&gt;&#10;              &lt;div className=&quot;form-group&quot;&gt;&#10;                &lt;label&gt;Event Title&lt;/label&gt;&#10;                &lt;input&#10;                  type=&quot;text&quot;&#10;                  value={newEvent.title}&#10;                  onChange={(e) =&gt;&#10;                    setNewEvent({ ...newEvent, title: e.target.value })&#10;                  }&#10;                  placeholder=&quot;Enter event title&quot;&#10;                  required&#10;                /&gt;&#10;              &lt;/div&gt;&#10;&#10;              &lt;div className=&quot;form-group&quot;&gt;&#10;                &lt;label&gt;Event Type&lt;/label&gt;&#10;                &lt;select&#10;                  value={newEvent.type}&#10;                  onChange={(e) =&gt;&#10;                    setNewEvent({ ...newEvent, type: e.target.value })&#10;                  }&#10;                &gt;&#10;                  &lt;option value=&quot;assignment&quot;&gt;Assignment&lt;/option&gt;&#10;                  &lt;option value=&quot;test&quot;&gt;Test/Exam&lt;/option&gt;&#10;                &lt;/select&gt;&#10;              &lt;/div&gt;&#10;&#10;              {newEvent.type === &quot;test&quot; &amp;&amp; (&#10;                &lt;div className=&quot;form-group&quot;&gt;&#10;                  &lt;label&gt;Reminder Days Before&lt;/label&gt;&#10;                  &lt;input&#10;                    type=&quot;number&quot;&#10;                    min=&quot;1&quot;&#10;                    max=&quot;14&quot;&#10;                    value={newEvent.reminderDays}&#10;                    onChange={(e) =&gt;&#10;                      setNewEvent({&#10;                        ...newEvent,&#10;                        reminderDays: parseInt(e.target.value),&#10;                      })&#10;                    }&#10;                  /&gt;&#10;                &lt;/div&gt;&#10;              )}&#10;&#10;              &lt;div className=&quot;modal-actions&quot;&gt;&#10;                &lt;button type=&quot;submit&quot; className=&quot;btn-primary&quot;&gt;&#10;                  ✓ Add Event&#10;                &lt;/button&gt;&#10;                &lt;button&#10;                  type=&quot;button&quot;&#10;                  className=&quot;btn-cancel&quot;&#10;                  onClick={() =&gt; setShowModal(false)}&#10;                &gt;&#10;                  ✕ Cancel&#10;                &lt;/button&gt;&#10;              &lt;/div&gt;&#10;            &lt;/form&gt;&#10;          &lt;/div&gt;&#10;        &lt;/div&gt;&#10;      )}&#10;&#10;      {/* Event Details Modal */}&#10;      {showEventModal &amp;&amp; selectedEvent &amp;&amp; (&#10;        &lt;div className=&quot;modal-overlay&quot; onClick={() =&gt; setShowEventModal(false)}&gt;&#10;          &lt;div className=&quot;modal-content&quot; onClick={(e) =&gt; e.stopPropagation()}&gt;&#10;            &lt;h2&gt;{selectedEvent.title}&lt;/h2&gt;&#10;            &lt;div className=&quot;event-details&quot;&gt;&#10;              &lt;p&gt;&#10;                &lt;strong&gt;Date:&lt;/strong&gt; {selectedEvent.startStr}&#10;              &lt;/p&gt;&#10;              &lt;p&gt;&#10;                &lt;strong&gt;Type:&lt;/strong&gt;{&quot; &quot;}&#10;                {selectedEvent.extendedProps.type || &quot;assignment&quot;}&#10;              &lt;/p&gt;&#10;            &lt;/div&gt;&#10;            &lt;div className=&quot;modal-actions&quot;&gt;&#10;              &lt;button className=&quot;btn-danger&quot; onClick={handleDeleteEvent}&gt;&#10;                ️ Delete&#10;              &lt;/button&gt;&#10;              &lt;button&#10;                type=&quot;button&quot;&#10;                className=&quot;btn-cancel&quot;&#10;                onClick={() =&gt; setShowEventModal(false)}&#10;              &gt;&#10;                ✕ Close&#10;              &lt;/button&gt;&#10;            &lt;/div&gt;&#10;          &lt;/div&gt;&#10;        &lt;/div&gt;&#10;      )}&#10;    &lt;/VantaWavesBackground&gt;&#10;  );&#10;}&#10;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/lib/db/settings.js">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/lib/db/settings.js" />
              <option name="updatedContent" value="import { createClient } from '@/lib/supabase/server'&#10;&#10;// Get user settings&#10;export async function getUserSettings(userId) {&#10;  const supabase = await createClient()&#10;  &#10;  const { data, error } = await supabase&#10;    .from('user_settings')&#10;    .select('*')&#10;    .eq('user_id', userId)&#10;    .single()&#10;  &#10;  if (error &amp;&amp; error.code !== 'PGRST116') {&#10;    console.error('Error fetching user settings:', error)&#10;    return null&#10;  }&#10;  &#10;  return data&#10;}&#10;&#10;// Update user settings&#10;export async function updateUserSettings(userId, settings) {&#10;  const supabase = await createClient()&#10;  &#10;  const { data, error } = await supabase&#10;    .from('user_settings')&#10;    .update(settings)&#10;    .eq('user_id', userId)&#10;    .select()&#10;    .single()&#10;  &#10;  if (error) {&#10;    console.error('Error updating user settings:', error)&#10;    return { error: error.message }&#10;  }&#10;  &#10;  return { data }&#10;}&#10;&#10;// Get user profile&#10;export async function getUserProfile(userId) {&#10;  const supabase = await createClient()&#10;  &#10;  const { data, error } = await supabase&#10;    .from('profiles')&#10;    .select('*')&#10;    .eq('id', userId)&#10;    .single()&#10;  &#10;  if (error) {&#10;    console.error('Error fetching user profile:', error)&#10;    return null&#10;  }&#10;  &#10;  return data&#10;}&#10;&#10;// Update user profile&#10;export async function updateUserProfile(userId, profile) {&#10;  const supabase = await createClient()&#10;  &#10;  const { data, error } = await supabase&#10;    .from('profiles')&#10;    .update(profile)&#10;    .eq('id', userId)&#10;    .select()&#10;    .single()&#10;  &#10;  if (error) {&#10;    console.error('Error updating user profile:', error)&#10;    return { error: error.message }&#10;  }&#10;  &#10;  return { data }&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>